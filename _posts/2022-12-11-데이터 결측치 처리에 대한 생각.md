---
title : 데이터 결측치 처리에 대한 생각
date : 2022-12-11 23:14:00 +09:00
categories : [머신러닝, 파이썬]
tags : [결측치 처리] 
---

# 결측치
---
데이터셋에서 NaN 의 형태를 띈, 아예 정보가 없는 상태를 결측치라고 한다.

결측치는 3가지 종류로 분류할 수 있다.

## 완전 무작위 결측(MCAR : Missing completely at random)
---

- 변수 상에서 발생한 결측치가 다른 변수들과 아무런 상관이 없는 경우(독립적)
- 대부분의 결측치 처리 패키지가 MCAR을 가정
- 예를 들어, 데이터를 입력하는 사람이 깜빡하고 입력을 안했다든지 전산오류로 누락된 경우 등

### 대응법 
- 제거(10% 미만일 때 행 삭제를 권장하는 의견이 있음)
-> 50% 이상 결측치가 발생할 경우 열 삭제를 고려
-> 제거는 모델의 성능에 문제가 생길 가능성이 있으므로 신중해야 함
- 대규모 데이터셋에선 단순 무작위 표본추출을 시도


## 무작위 결측(MAR : Missing at random)
---

- 누락된 자료가 특정 변수와 관련되어 일어나지만, 그 변수의 결과는 관계가 없는 경우

- 결측치가 전체 정보가 있는 변수로 설명이 될 수 있음을 의미합니다.(누락이 완전히 설명 될 수 있는 경우 발생)

-  예를 들어, 남성은 우울증 설문 조사에 기입 할 확률이 적지만 우울함의 정도와는 상관이 없는 경우입니다.

-> 여기서 **"남성" 이라는 특정 변수**에 관련이 발생하여 결측치가 생겼지만, "남성" 이라는 성별 자체는 **우울함의 정도(타겟)과 상관이 없기 때문**에 예시가 됩니다.



## 비 무작위 결측(MNAR : Missing at not random)
---

- 위의 두가지 유형이 아닌 경우를 MNAR
- 결측의 이유(변수의 결과)가 다른 변수와 연관 있는 경우를 의미합니다. 
- 만약 남성은 남성이라서 우울증 설문 조사를 제대로 기입하지 않았지만, 남성이라는 사실은 우울증의 정도와 관련이 있을 경우

-> 결측치를 발생시킨 원인(성별)이 타겟과 관련이 있을 경우



## 종류를 파악하기
---

각각 데이터가 수집되는 상황마다 달라진다.

이는 데이터 전처리에 명확한 정답은 없다는 것을 의미하며 DE가 본인의 이론만으로 시도하기 보다는 데이터를 수집하는 실무진과 대화를 나눠야 한다는 생각을 할 수 있다.

물론, DE의 다양한 접근방법으로 결측치 처리가 정교할수록 모델의 성능은 좋아지지만 이는 시간 대비 효용이 그리 훌륭한 선택이 아니라고 생각한다.

## 결론
---
빠르고, 간단한 SimpleImputer를 우선적으로 사용하고 결측치 처리에 대한 부분이 이론적인 방법을 제외하곤 남은 수단이 없을 경우 다른 전처리를 모두 끝낸 뒤, 여러가지 방법을 시도해본다.

- **시간이 없을 경우, 결측치 처리가 우선이 되어선 안된다.**


물론 현재 내 생각일 뿐이며 앞으로 경험이 쌓임에 따라 다른 의견이 되거나, 더 훌륭한 기법이 만들어지면 또 달라질 수 있다.
